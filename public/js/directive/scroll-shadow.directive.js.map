{"version":3,"sources":["../../app/src/directive/scroll-shadow.directive.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAQuB;AAavB;IASI,+BACY,WAAuB;QAAvB,gBAAW,GAAX,WAAW,CAAY;QAE/B,IAAI,CAAC,OAAO,GAAG,WAAW,CAAC,aAAa,CAAC;IAC7C,CAAC;IAED,wCAAQ,GAAR;QAAA,iBAmBC;QAlBG,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,gBAAgB,CAAC;QAE1C,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACpE,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAEvC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,YAAY,CAAC;QAExC,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAClD,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,eAAe,CAAC;QAE9C,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAE5C,UAAU,CAAC;YACP,KAAI,CAAC,gBAAgB,EAAE,CAAC;QAC5B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,2CAAW,GAAX;IAEA,CAAC;IAED,gDAAgB,GAAhB;QAEI,IAAI,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EACxC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAClC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAClC,GAAG,GAAG,EAAE,EACR,MAAM,GAAG,SAAS,GAAG,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC;QAEjD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC;QACpD,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IAEnE,CAAC;IAnDQ,qBAAqB;QANjC,gBAAS,CAAC;YACP,QAAQ,EAAE,SAAS;YACnB,IAAI,EAAE;gBACF,UAAU,EAAE,oBAAoB;aACnC;SACJ,CAAC;yCAW2B,iBAAU;OAV1B,qBAAqB,CAoDjC;IAAD,4BAAC;CApDD,AAoDC,IAAA;AApDY,sDAAqB","file":"scroll-shadow.directive.js","sourcesContent":["import {\r\n    Directive,\r\n    ElementRef,\r\n    OnInit,\r\n    OnDestroy,\r\n    Input,\r\n    Output,\r\n    EventEmitter\r\n} from '@angular/core';\r\n\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { AppComponent } from '../component/app.component';\r\n\r\n@Directive({\r\n    selector: '.scroll',\r\n    host: {\r\n        '(scroll)': 'calculateShadows()'\r\n    }\r\n})\r\nexport class ScrollShadowDirective implements OnInit, OnDestroy {\r\n\r\n    element: HTMLElement;\r\n\r\n    wrapper: HTMLDivElement;\r\n\r\n    topShadow: HTMLDivElement;\r\n    bottomShadow: HTMLDivElement;\r\n\r\n    constructor(\r\n        private _elementRef: ElementRef\r\n    ) {\r\n        this.element = _elementRef.nativeElement;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.wrapper = document.createElement('div');\r\n        this.wrapper.className = 'scroll-wrapper';\r\n\r\n        this.element.parentElement.insertBefore(this.wrapper, this.element);\r\n        this.wrapper.appendChild(this.element);\r\n\r\n        this.topShadow = document.createElement('div');\r\n        this.topShadow.className = 'shadow-top';\r\n\r\n        this.bottomShadow = document.createElement('div');\r\n        this.bottomShadow.className = 'shadow-bottom';\r\n\r\n        this.wrapper.appendChild(this.topShadow);\r\n        this.wrapper.appendChild(this.bottomShadow);\r\n\r\n        setTimeout(() => {\r\n            this.calculateShadows();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        \r\n    }\r\n\r\n    calculateShadows() {\r\n\r\n        let scrollHeight = this.element.scrollHeight,\r\n            height = this.element.offsetHeight,\r\n            scrollPos = this.element.scrollTop,\r\n            std = 16,\r\n            factor = scrollPos / (scrollHeight - height);\r\n\r\n        this.topShadow.style.height = (std * factor) + 'px';\r\n        this.bottomShadow.style.height = (std - (std * factor)) + 'px';\r\n\r\n    }\r\n}"]}