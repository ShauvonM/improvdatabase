{"version":3,"sources":["../../app/src/app/component/team-details.component.ts"],"names":[],"mappings":"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","file":"team-details.component.js","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Location, PathLocationStrategy } from '@angular/common';\r\n\r\nimport { ColorPickerService } from 'ngx-color-picker';\r\n\r\nimport { COLORS } from '../../constants';\r\n\r\nimport {AppComponent} from '../../component/app.component';\r\nimport { Tool } from '../view/toolbar.view';\r\n\r\nimport { TabData } from '../../model/tab-data';\r\n\r\nimport { User } from '../../model/user';\r\nimport { Team } from '../../model/team';\r\nimport { Purchase } from '../../model/purchase';\r\nimport { Invite } from '../../model/invite';\r\nimport { Subscription } from '../../model/subscription';\r\n\r\nimport { Address } from '../view/editable-metadata.view';\r\n\r\nimport { UserService } from '../../service/user.service';\r\nimport { TeamService } from '../service/team.service';\r\nimport { AppService } from '../../service/app.service';\r\n\r\nimport { TimeUtil } from '../../util/time.util';\r\nimport { TextUtil } from '../../util/text.util';\r\nimport { Util } from '../../util/util';\r\n\r\nimport { GameNoteService } from '../service/game-note.service';\r\nimport { Note } from '../../model/note';\r\n\r\nimport { DialogAnim, ToggleAnim } from '../../util/anim.util';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: \"team-details\",\r\n    templateUrl: \"../template/team-details.component.html\",\r\n    animations: [DialogAnim.dialog]\r\n})\r\nexport class TeamDetailsComponent implements OnInit {\r\n    [index: string]: any;\r\n\r\n    title: string;\r\n\r\n    @Input() team: Team;\r\n    user: User;\r\n\r\n    tabs: TabData[] = [\r\n        {\r\n            name: 'Team Details',\r\n            id: 'team',\r\n            icon: 'users'\r\n        },\r\n        {\r\n            name: 'Team Notes',\r\n            id: 'notes',\r\n            icon: 'sticky-note'\r\n        },\r\n        {\r\n            name: 'Members',\r\n            id: 'members',\r\n            icon: 'user-plus'\r\n        },\r\n        {\r\n            name: 'Settings',\r\n            id: 'settings',\r\n            icon: 'sliders'\r\n        }\r\n    ];\r\n\r\n    selectedTab: string = 'team';\r\n\r\n    private adminActions = [\r\n        'team_subscription_invite',\r\n        'team_invite',\r\n        'team_edit',\r\n        'team_user_promote',\r\n        'team_purchases_view'\r\n    ]\r\n\r\n    address: string;\r\n\r\n    selectedUser: User;\r\n\r\n    isPosting: boolean;\r\n\r\n    descriptionHtml: string;\r\n\r\n    primaryColor: string;\r\n    secondaryColor: string;\r\n    tertiaryColor: string;\r\n\r\n    notes: Note[] = [];\r\n\r\n    constructor(\r\n        public _app: AppComponent,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private _service: AppService,\r\n        private userService: UserService,\r\n        private teamService: TeamService,\r\n        private noteService: GameNoteService,\r\n        private pathLocationStrategy: PathLocationStrategy,\r\n        private _location: Location\r\n    ) { }\r\n\r\n    _tools: Tool[] = [\r\n        {\r\n            icon: \"fa-sign-out\",\r\n            name: \"leave\",\r\n            text: \"Leave Company\",\r\n            active: false\r\n        }\r\n    ]\r\n\r\n    _timeUtil = TimeUtil;\r\n\r\n    ngOnInit(): void {\r\n        this.user = this.userService.getLoggedInUser();\r\n\r\n        this.route.params.forEach((params: Params) => {\r\n            let id = params['id'];\r\n            this.getTeam(id);\r\n        });\r\n    }\r\n\r\n    onToolClicked(tool: Tool): void {\r\n        switch (tool.name) {\r\n            case \"leave\":\r\n                this.leave();\r\n                break;\r\n        }\r\n    }\r\n\r\n    goBack(): void {\r\n        this._location.back();\r\n    }\r\n\r\n    selectTab(tab: TabData): void {\r\n        this.selectedTab = tab.id;\r\n    }\r\n\r\n    getDate(date: string): string {\r\n        return TimeUtil.simpleDate(date);\r\n    }\r\n\r\n    getTime(date: string): string {\r\n        return TimeUtil.simpleTime(date);\r\n    }\r\n\r\n    getTeam(id: string): void {\r\n        this.teamService.getTeam(id)\r\n            .then(team => this.setTeam(team));\r\n    }\r\n\r\n    can(action: string): boolean {\r\n        let can = this.userService.can(action);\r\n\r\n        if (this.adminActions.indexOf(action)) {\r\n            return can && this.isUserAdmin();\r\n        } else {\r\n            return can;\r\n        }\r\n    }\r\n\r\n    isUserAdmin(): boolean {\r\n        return this.userService.isAdminOfTeam(this.team);\r\n    }\r\n\r\n    setTeam(team: Team): void {\r\n        this.team = team;\r\n\r\n        this.primaryColor = team.primaryColor;\r\n        this.secondaryColor = team.secondaryColor;\r\n        this.tertiaryColor = team.tertiaryColor;\r\n\r\n        this.renderDescription();\r\n\r\n        this.noteService.getNotesForTeam(this.team).then(notes => {\r\n            this.notes = notes;\r\n        });\r\n\r\n        this.setCurtain();\r\n    }\r\n\r\n    private setCurtain() {\r\n        this.title = this.team.name;\r\n        this._app.setCurtain({\r\n            text: this.title,\r\n            background: this.primaryColor,\r\n            color: this.secondaryColor\r\n        });\r\n    }\r\n\r\n    renderDescription(): void {\r\n        this.descriptionHtml = TextUtil.renderDescription(this.team.description);\r\n    }\r\n\r\n    private _saveTeam(): void {\r\n        this.teamService.saveTeam(this.team);\r\n        this.setCurtain();\r\n    }\r\n\r\n    saveEditName(name: string): void {\r\n        this.team.name = name;\r\n        this._saveTeam();\r\n    }\r\n\r\n    saveEditPhone(phone: string): void {\r\n        this.team.phone = phone;\r\n        this._saveTeam();\r\n    }\r\n\r\n    saveEditEmail(email: string): void {\r\n        this.team.email = email;\r\n        this._saveTeam();\r\n    }\r\n\r\n    saveEditUrl(url: string): void {\r\n        this.team.url = url;\r\n        this._saveTeam();\r\n    }\r\n\r\n    saveEditAddress(address: Address): void {\r\n        this.team.address = address.address;\r\n        this.team.city = address.city;\r\n        this.team.state = address.state;\r\n        this.team.zip = address.zip;\r\n        this.team.country = address.country;\r\n\r\n        this._saveTeam();\r\n    }\r\n\r\n    newDescriptionText: string;\r\n    editDescriptionShown: boolean;\r\n    showEditDescription(): void {\r\n        if (this.can('team_edit')) {\r\n            this.newDescriptionText = this.team.description;\r\n            this.editDescriptionShown = true;\r\n        }\r\n    }\r\n\r\n    cancelDescription(): void {\r\n        this.editDescriptionShown = false;\r\n    }\r\n\r\n    saveDescription(): void {\r\n        this.team.description = this.newDescriptionText;\r\n        this._saveTeam();\r\n        this.cancelDescription();\r\n        this.renderDescription();\r\n    }\r\n\r\n    selectUser(user: User): void {\r\n        if (this.selectedUser !== user) {\r\n            this.selectedUser = user;\r\n        } else {\r\n            this.selectedUser = null;\r\n        }\r\n    }\r\n\r\n    showInviteDialog: boolean;\r\n    inviteEmail: string;\r\n    inviteStatus: string;\r\n    inviteModel: Invite;\r\n    inviteError: string;\r\n\r\n    selectedInvite: Invite;\r\n\r\n    invite(): void {\r\n        this._app.backdrop(true);\r\n\r\n        this.showInviteDialog = true;\r\n        this.inviteEmail = '';\r\n        this.inviteError = '';\r\n    }\r\n\r\n    cancelInviteDialog(): void {\r\n        this._app.backdrop(false);\r\n        \r\n        this.showInviteDialog = false;\r\n        this.inviteStatus = '';\r\n    }\r\n\r\n    submitInvite(): void {\r\n        this.isPosting = true;\r\n        this.inviteError = '';\r\n\r\n        this.teamService.invite(this.team, this.inviteEmail)\r\n            .then(invite => {\r\n                this.team.invites.push(invite);\r\n\r\n                this.isPosting = false;\r\n                this.inviteStatus = 'wait';\r\n                this.inviteModel = invite;\r\n                if (invite) {\r\n                    setTimeout(() => {\r\n                        if (!invite.inviteUser || this.userService.isExpired(invite.inviteUser)) {\r\n                            this.inviteStatus = 'new';\r\n                        } else {\r\n                            this.inviteStatus = 'exists';\r\n                        }\r\n                    }, 300);\r\n                }\r\n            }, error => {\r\n                this.isPosting = false;\r\n                let response = error.json();\r\n                if (response.error && response.error == 'invite already exists') {\r\n                    this.inviteError = 'That email address has already been invited to ' + this.team.name + '.';\r\n                } else if (response.error && response.error == 'out of subscriptions') {\r\n                    this.inviteError = 'Your team is out of subscriptions, so you cannot invite that user until you purchase more (or until they purchase a subscription on their own).'\r\n                } else {\r\n                    this.inviteError = 'There was some sort of problem sending that invite.';\r\n                }\r\n            })\r\n    }\r\n\r\n    selectInvite(invite: Invite): void {\r\n        if (this.selectedInvite && this.selectedInvite._id == invite._id) {\r\n            this.selectedInvite = null;\r\n        } else {\r\n            this.selectedInvite = invite;\r\n        }\r\n    }\r\n\r\n    cancelInvite(invite: Invite): void {\r\n        this.selectedInvite = invite;\r\n        this._app.dialog('Cancel an Invitation', 'Are you sure you want to revoke your invitation to ' + invite.email + '? We already sent them the invite, but the link inside will no longer work. We will not notify them that it was cancelled.', 'Yes',\r\n            () => {\r\n                this.userService.cancelInvite(invite).then(done => {\r\n                    if (done) {\r\n                        let index = Util.indexOfId(this.team.invites, invite);\r\n\r\n                        if (index > -1) {\r\n                            this.team.invites.splice(index, 1);\r\n                        }\r\n                    }\r\n                })\r\n            });\r\n    }\r\n\r\n    leave(): void {\r\n        let body = `\r\n            <p>Are you sure you want to leave this team? You will no longer have access to any of the team's resources.</p>\r\n        `;\r\n\r\n        this._app.dialog('Leave ' + this.team.name + '?', body, 'Yes', () => {\r\n\r\n            this.userService.leaveTeam(this.team).then(user => {\r\n\r\n                this.router.navigate(['/app/dashboard']);\r\n\r\n                setTimeout(() => {\r\n                    this._app.dialog('It is done', 'You have successfully left ' + this.team.name + '.');\r\n                }, 500);\r\n\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    getUserName(user: User): string {\r\n        return user.firstName ? user.firstName : 'this user';\r\n    }\r\n\r\n    removeUserFromTeam(user: User): void {\r\n        this._app.dialog('Remove ' + this.getUserName(user) + ' from the Company?',\r\n            'Are you sure you want to remove them from the Company?', 'Yes', () => {\r\n                this.teamService.removeUserFromTeam(this.team, user).then(team => {\r\n                    this.setTeam(team);\r\n                });\r\n            });\r\n    }\r\n\r\n    promoteUser(user: User): void {\r\n        this._app.dialog('Promote ' + this.getUserName(user) + ' to Company Admin?',\r\n            'As a Company Admin, they will be able to view the Company\\'s purchase history, add or remove users, and make purchases for the Company.', 'Yes',\r\n            () => {\r\n                this.teamService.promoteUser(this.team, user).then(team => {\r\n                    this.setTeam(team);\r\n                });\r\n            });\r\n    }\r\n\r\n    demoteUser(user: User): void {\r\n        this._app.dialog('Demote ' + this.getUserName(user) + '?',\r\n            'This user will no longer have Company Admin privelages.', 'Yes',\r\n            () => {\r\n                this.teamService.demoteUser(this.team, user).then(team => {\r\n                    this.setTeam(team);\r\n                });\r\n            });\r\n    }\r\n\r\n    // settings\r\n\r\n    setColor(color: string, which: string): void {\r\n        this[which + 'Color'] = color;\r\n\r\n        this.setCurtain();\r\n    }\r\n    saveColor(open: boolean, which: string): void {\r\n        let index = which + 'Color',\r\n            whichColor = this[index];\r\n\r\n        // TODO: figure out a better way to ignore that default ( do we need to? )\r\n        if (!open && whichColor != this.team[index]) {\r\n            // the selector has been closed, and it was set to a color that isn't already the team's color\r\n            this.team[index] = whichColor;\r\n            this._saveTeam();\r\n        }\r\n    }\r\n\r\n}\r\n"]}