{"version":3,"sources":["../../src/ts/app/view/game-card.view.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAKuB;AAEvB,6BAA2B;AAG3B,6EAA0E;AAE1E,yCAAwC;AAUxC,IAAa,YAAY;IASrB,sBACY,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QALpD,cAAS,GAAU,QAAQ,CAAC;IAMxB,CAAC;IAEL,+BAAQ,GAAR;QAAA,iBA+BC;QA5BG,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACxB,oEAAoE;YACpE,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACxC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;YACtC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;QACrF,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,OAAO;gBAC1B,+CAA+C;gBAC/C,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,IAAW,OAAO,CAAC,GAAI,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC1C,MAAM,CAAA,CAAQ,OAAO,CAAC,GAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;wBAC5C,KAAK,MAAM;4BACP,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;4BAC1B,KAAI,CAAC,eAAe,GAAU,OAAO,CAAC,GAAI,CAAC,WAAW,CAAC;4BACvD,KAAK,CAAC;wBACV,KAAK,UAAU;4BACX,KAAI,CAAC,SAAS,GAAG,aAAa,CAAC;4BAC/B,KAAI,CAAC,eAAe,GAAU,OAAO,CAAC,GAAI,CAAC,WAAW,CAAC;4BACvD,KAAK,CAAC;wBACV,KAAK,QAAQ;4BACT,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC;4BACxB,KAAI,CAAC,eAAe,GAAU,OAAO,CAAC,GAAI,CAAC,WAAW,CAAC;4BACvD,KAAK,CAAC;oBACd,CAAC;gBACL,CAAC;YACL,CAAC,CAAC,CAAA;QACN,CAAC;IACL,CAAC;IAED,kCAAW,GAAX;IAEA,CAAC;IACL,mBAAC;AAAD,CAjDA,AAiDC,IAAA;AAhDY;IAAR,YAAK,EAAE;8BAAO,WAAI;0CAAC;AADX,YAAY;IALxB,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,eAAe;QACzB,WAAW,EAAE,sCAAsC;KACtD,CAAC;qCAWmC,2CAAmB;GAV3C,YAAY,CAiDxB;AAjDY,oCAAY","file":"game-card.view.js","sourcesContent":["import { \r\n    Component,\r\n    OnInit,\r\n    OnDestroy,\r\n    Input\r\n} from '@angular/core';\r\n\r\nimport 'rxjs/Subscription';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { GameDatabaseService } from '../../service/game-database.service';\r\n\r\nimport { Game } from '../../model/game';\r\nimport { Name } from '../../model/name';\r\nimport { GameMetadata } from '../../model/game-metadata';\r\nimport { Tag } from '../../model/tag';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: '.ng-game-card',\r\n    templateUrl: '../template/view/game-card.view.html'\r\n})\r\nexport class GameCardView implements OnInit, OnDestroy {\r\n    @Input() game: Game;\r\n    playerCount: GameMetadata;\r\n    duration: GameMetadata;\r\n\r\n    iconClass:string = \"rocket\";\r\n    iconDescription: string;\r\n    descriptionText: string;\r\n\r\n    constructor(\r\n        private gameDatabaseService: GameDatabaseService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n\r\n\r\n        if (this.game.description) {\r\n            // this will create a description string without any HTML tags in it\r\n            let div = document.createElement(\"div\");\r\n            div.innerHTML = this.game.description;\r\n            this.descriptionText = div.textContent || div.innerText || this.game.description;\r\n        }\r\n\r\n        if (this.game.tags) {\r\n            this.game.tags.forEach(taggame => {\r\n                // let's just make sure the tag actually exists\r\n                if (taggame.tag && (<Tag> taggame.tag).name) {\r\n                    switch((<Tag> taggame.tag).name.toLowerCase()) {\r\n                        case 'show':\r\n                            this.iconClass = 'ticket';\r\n                            this.iconDescription = (<Tag> taggame.tag).description;\r\n                            break;\r\n                        case 'exercise':\r\n                            this.iconClass = 'lightbulb-o';\r\n                            this.iconDescription = (<Tag> taggame.tag).description;\r\n                            break;\r\n                        case 'warmup':\r\n                            this.iconClass = 'fire';\r\n                            this.iconDescription = (<Tag> taggame.tag).description;\r\n                            break;\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        \r\n    }\r\n}\r\n"]}