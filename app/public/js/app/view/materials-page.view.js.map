{"version":3,"sources":["../../src/ts/app/view/materials-page.view.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAMuB;AAEvB,+DAA+D;AAE/D,iEAA+D;AAG/D,yCAAwC;AAOxC,IAAa,iBAAiB;IAI1B,2BACY,IAAkB,EAClB,cAA8B;QAD9B,SAAI,GAAJ,IAAI,CAAc;QAClB,mBAAc,GAAd,cAAc,CAAgB;QALjC,cAAS,GAAmB,EAAE,CAAC;IAMpC,CAAC;IAEL,oCAAQ,GAAR;QACI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;YAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;QACzC,CAAC;IACL,CAAC;IAED,0CAAc,GAAd,UAAe,QAAsB;QACjC,EAAE,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACvD,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,8RAA8R,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACxV,CAAC;IACL,CAAC;IAED,sCAAU,GAAV,UAAW,CAAe;QACtB,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,+BAA+B,CAAC,CAAC,CAAC,CAAC;QAC/D,wCAAwC;QACxC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACJ,MAAM,CAAC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC;QAC9B,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,MAAM,CAAC,sBAAsB,CAAC;QAClC,CAAC;IACL,CAAC;IACL,wBAAC;AAAD,CAhCA,AAgCC,IAAA;AA/BY;IAAR,YAAK,EAAE;;oDAAgC;AAC/B;IAAR,YAAK,EAAE;8BAAO,WAAI;+CAAC;AAFX,iBAAiB;IAL7B,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,iBAAiB;QAC3B,WAAW,EAAE,2CAA2C;KAC3D,CAAC;qCAMoB,4BAAY;QACF,gCAAc;GANjC,iBAAiB,CAgC7B;AAhCY,8CAAiB","file":"materials-page.view.js","sourcesContent":["import { \r\n    Component,\r\n    OnInit,\r\n    Input,\r\n    Output,\r\n    EventEmitter\r\n} from '@angular/core';\r\n\r\nimport {AppComponent    } from '../../component/app.component';\r\n\r\nimport { LibraryService } from '../../service/library.service';\r\n\r\nimport { MaterialItem } from '../../model/material-item';\r\nimport { Team } from '../../model/team';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: '.materials-page',\r\n    templateUrl: '../template/view/materials-page.view.html'\r\n})\r\nexport class MaterialsPageView implements OnInit {\r\n    @Input() materials: MaterialItem[] = [];\r\n    @Input() team: Team;\r\n\r\n    constructor(\r\n        private _app: AppComponent,\r\n        private libraryService: LibraryService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        if (this.team && this.materials) {\r\n            this.materials = this.team.materials;\r\n        }\r\n    }\r\n\r\n    selectMaterial(material: MaterialItem): void {\r\n        if (material.versions.length > 0) {\r\n            this.libraryService.downloadMaterial(material._id);\r\n        } else {\r\n            this._app.dialog('Whoops', 'We seem to have not published any versions of that Material Item. Hopefully we\\'re actively working to fix it. Try again in a few minutes, and if you still get this message, please let us know. You can email us at contact@improvpl.us or use the \"Report a Bug\" feature in the App menu.', 'Okay Then', null, true);\r\n        }\r\n    }\r\n\r\n    versionTag(m: MaterialItem): string {\r\n        let v = this.libraryService.getLatestVersionForMaterialItem(m);\r\n        // TODO: show the date this was released\r\n        if (v) {\r\n            return \"version \" + v.ver;\r\n        } else {\r\n            return \"no version published\";\r\n        }\r\n    }\r\n}\r\n"]}