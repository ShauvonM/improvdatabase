{"version":3,"sources":["../src/ts/app/component/library.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,sCAAkD;AAClD,0CAAyC;AAEzC,iDAAiD;AAGjD,8DAA4D;AAY5D,IAAa,gBAAgB;IAUzB,0BACY,IAAkB,EAClB,MAAc,EACd,cAA8B;QAF9B,SAAI,GAAJ,IAAI,CAAc;QAClB,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAX1C,UAAK,GAAW,8DAA8D,CAAC;QAG/E,kBAAa,GAAmB,EAAE,CAAC;QAW3B,WAAM,GAAW,EACxB,CAAA;IAHG,CAAC;IAKL,mCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;QACvB,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAED,wCAAa,GAAb,UAAc,IAAU;IAExB,CAAC;IAED,qCAAU,GAAV;QAAA,iBAWC;QAVG,OAAO,CAAC,GAAG,CAAC;YACJ,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE;YAClC,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE;SACzC,CAAC,CAAC,IAAI,CAAC,UAAC,KAAK;YACV,UAAU,CAAC;gBACP,KAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACvB,KAAI,CAAC,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAC7B,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACX,CAAC;IAED,uCAAY,GAAZ,UAAa,SAAiB;QAC1B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,SAAS,KAAK,SAAS,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAnD,CAAmD,CAAC,CAAC;IAClG,CAAC;IAED,oCAAS,GAAT;QACI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAA,QAAQ,IAAI,OAAA,QAAQ,CAAC,KAAK,EAAd,CAAc,CAAC,CAAC;IAC7D,CAAC;IACL,uBAAC;AAAD,CAhDA,AAgDC,IAAA;AAhDY,gBAAgB;IAL5B,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,SAAS;QACnB,WAAW,EAAE,oCAAoC;KACpD,CAAC;qCAYoB,4BAAY;QACV,eAAM;QACE,gCAAc;GAbjC,gBAAgB,CAgD5B;AAhDY,4CAAgB","file":"library.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport {AppComponent    } from './app.component';\r\nimport { Tool, SearchResult } from '../view/toolbar.view';\r\n\r\nimport { LibraryService } from '../service/library.service';\r\n\r\nimport { Package } from '../model/package';\r\nimport { MaterialItem } from '../model/material-item';\r\n\r\nimport { UserService } from '../service/user.service';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: \"library\",\r\n    templateUrl: \"../template/library.component.html\"\r\n})\r\nexport class LibraryComponent implements OnInit {\r\n\r\n    title: string = '<span class=\"light\">materials</span><strong>library</strong>';\r\n\r\n    filter: boolean; // TODO\r\n    searchResults: SearchResult[] = [];\r\n\r\n    packages: Package[];\r\n    materials: MaterialItem[];\r\n\r\n    constructor(\r\n        private _app: AppComponent,\r\n        private router: Router,\r\n        private libraryService: LibraryService\r\n    ) { }\r\n\r\n    private _tools: Tool[] = [\r\n    ]\r\n\r\n    ngOnInit(): void {\r\n        this._app.showLoader();\r\n        this.getLibrary();\r\n    }\r\n\r\n    onToolClicked(tool: Tool): void {\r\n        \r\n    }\r\n\r\n    getLibrary(): void {\r\n        Promise.all([\r\n                this.libraryService.getMaterials(),\r\n                this.libraryService.getOwnedPackages()\r\n            ]).then((items) => {\r\n                setTimeout(() => {\r\n                    this._app.hideLoader();\r\n                    this.materials = items[0];\r\n                    this.packages = items[1];\r\n                }, 150);\r\n            });\r\n    }\r\n\r\n    getMaterials(packageId: string): MaterialItem[] {\r\n        return this.materials.filter(material => material.PackageID === packageId && !material.Addon);\r\n    }\r\n\r\n    getAddons(): MaterialItem[] {\r\n        return this.materials.filter(material => material.Addon);\r\n    }\r\n}\r\n"]}