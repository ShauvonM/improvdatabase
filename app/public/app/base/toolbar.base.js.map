{"version":3,"sources":["../src/ts/app/base/toolbar.base.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAMO,eAAe,CAAC,CAAA;AAGvB,QAAO,cAAc,CAAC,CAAA;AAMtB;IAAA;QAII,WAAM,GAAa,KAAK,CAAC;IAC7B,CAAC;IAAD,WAAC;AAAD,CALA,AAKC,IAAA;AALY,YAAI,OAKhB,CAAA;AAED;IAAA;IAIA,CAAC;IAAD,mBAAC;AAAD,CAJA,AAIC,IAAA;AAJY,oBAAY,eAIxB,CAAA;AAED;IAmBI,qBACc,IAAkB,EAClB,MAAc;QAExB;;;;;;;;UAQE;QAXQ,SAAI,GAAJ,IAAI,CAAc;QAClB,WAAM,GAAN,MAAM,CAAQ;QAnBnB,UAAK,GAAW,EAAE,CAAC;QACnB,UAAK,GAAW,EAAE,CAAC;QACnB,aAAQ,GAAY,KAAK,CAAC;QAE1B,oBAAe,GAAY,KAAK,CAAC;QAEjC,eAAU,GAAY,KAAK,CAAC;QAC5B,kBAAa,GAAmB,EAAE,CAAC;QAElC,gBAAW,GAAuB,IAAI,mBAAY,EAAE,CAAC;QACrD,WAAM,GAAG,IAAI,mBAAY,EAAE,CAAC;QAC5B,WAAM,GAAyB,IAAI,mBAAY,EAAE,CAAC;QAClD,sBAAiB,GAA+B,IAAI,mBAAY,EAAE,CAAC;QAE7E,eAAU,GAAY,KAAK,CAAC;QAiBxB,wDAAwD;IAC5D,CAAC;IAED,8BAAQ,GAAR;IACA,CAAC;IAED,8BAAQ,GAAR,UAAS,KAAa;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,8BAAQ,GAAR,UAAS,KAAa;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,+BAAS,GAAT,UAAU,IAAU;QAChB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,+BAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;IAC1B,CAAC;IAED,0BAAI,GAAJ;QACI,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;IACvB,CAAC;IAED,gCAAU,GAAV;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,iCAAW,GAAX;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAED,iCAAW,GAAX;QACI,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QACrB,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAGD,gCAAU,GAAV,UAAW,KAAK;QAAhB,iBAcC;QAbG,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;YACtB,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC;gBACxB,MAAM,EAAE,QAAQ;gBAChB,MAAM,EAAE,IAAI,CAAC,UAAU;gBACvB,IAAI,EAAE,CAAC;aACV,CAAC,CAAC;YACH,IAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;YACjC,IAAI,CAAC,aAAa,GAAG,UAAU,CAAC;gBAC5B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC;YACtC,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC;IACL,CAAC;IAED,iCAAW,GAAX,UAAY,MAAoB;QAC5B,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IA1FD;QAAC,YAAK,EAAE;;8CAAA;IACR;QAAC,YAAK,EAAE;;8CAAA;IACR;QAAC,YAAK,EAAE;;iDAAA;IAER;QAAC,YAAK,EAAE;;wDAAA;IAER;QAAC,YAAK,EAAE;;mDAAA;IACR;QAAC,YAAK,EAAE;;sDAAA;IAER;QAAC,aAAM,EAAE;;oDAAA;IACT;QAAC,aAAM,EAAE;;+CAAA;IACT;QAAC,aAAM,EAAE;;+CAAA;IACT;QAAC,aAAM,EAAE;;0DAAA;IAgFb,kBAAC;AAAD,CA9FA,AA8FC,IAAA;AA9FY,mBAAW,cA8FvB,CAAA","file":"toolbar.base.js","sourcesContent":["import { \r\n    Component,\r\n    OnInit,\r\n    Input,\r\n    EventEmitter,\r\n    Output\r\n} from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { FormsModule } from '@angular/forms';\r\nimport 'rxjs/Subject';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Router, RoutesRecognized } from '@angular/router';\r\n\r\nimport { AppComponent } from '../component/app.component';\r\n\r\nexport class Tool {\r\n    icon: string;\r\n    name: string;\r\n    text: string;\r\n    active?: boolean = false;\r\n}\r\n\r\nexport class SearchResult {\r\n    text: string;\r\n    type: string;\r\n    id: number;\r\n}\r\n\r\nexport class BaseToolbar implements OnInit {\r\n\r\n    @Input() title: string = \"\";\r\n    @Input() tools: Tool[] = [];\r\n    @Input() showBack: boolean = false;\r\n\r\n    @Input() showFilterClear: boolean = false;\r\n\r\n    @Input() showSearch: boolean = false;\r\n    @Input() searchResults: SearchResult[] = [];\r\n\r\n    @Output() toolClicked: EventEmitter<Tool> = new EventEmitter();\r\n    @Output() goBack = new EventEmitter();\r\n    @Output() search: EventEmitter<string> = new EventEmitter();\r\n    @Output() searchResultClick: EventEmitter<SearchResult> = new EventEmitter();\r\n\r\n    searchOpen: boolean = false;\r\n    searchTerm: string;\r\n\r\n    constructor(\r\n        protected _app: AppComponent,\r\n        protected router: Router\r\n    ) {\r\n        /* I won't use this, but here is how to subscribe to router events!\r\n        // when changing route, reset the toolbar\r\n        router.events.subscribe(val => {\r\n            if (val instanceof RoutesRecognized) {\r\n                this.setTitle(\"\");\r\n                this.setTools([]);\r\n            }\r\n        })\r\n        */\r\n\r\n        // TODO: pre-populate results with history and favorites\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n    \r\n    setTitle(title: string): void {\r\n        this.title = title;\r\n    }\r\n\r\n    setTools(tools: Tool[]): void {\r\n        this.tools = tools;\r\n    }\r\n\r\n    toolClick(tool: Tool): void {\r\n        this.toolClicked.emit(tool);\r\n    }\r\n\r\n    toggleNav(): void {\r\n        this._app.toggleNav();\r\n    }\r\n\r\n    back(): void {\r\n        this.goBack.emit();\r\n    }\r\n\r\n    openSearch(): void {\r\n        this.searchOpen = true;\r\n    }\r\n\r\n    closeSearch(): void {\r\n        this.searchOpen = false;\r\n    }\r\n\r\n    clearSearch(): void {\r\n        this.searchTerm = \"\";\r\n        this.closeSearch();\r\n    }\r\n\r\n    private _typeDebounce;\r\n    typeSearch(event): void {\r\n        if (event.keyCode == 13) {\r\n            this.searchResultClick.emit({\r\n                \"type\": \"search\",\r\n                \"text\": this.searchTerm,\r\n                \"id\": 0\r\n            });\r\n            this.clearSearch();\r\n        } else {\r\n            clearTimeout(this._typeDebounce);\r\n            this._typeDebounce = setTimeout(() => {\r\n                this.search.emit(this.searchTerm);\r\n            }, 300);\r\n        }\r\n    }\r\n\r\n    clickResult(result: SearchResult): void {\r\n        this.searchResultClick.emit(result);\r\n        this.clearSearch();\r\n    }\r\n\r\n}"]}