{"version":3,"sources":["../src/ts/app/view/game-card.view.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAKuB;AAEvB,6BAA2B;AAG3B,0EAAuE;AAEvE,sCAAqC;AAUrC,IAAa,YAAY;IAYrB,sBACY,mBAAwC;QAAxC,wBAAmB,GAAnB,mBAAmB,CAAqB;QARpD,cAAS,GAAU,QAAQ,CAAC;QAI5B,qCAAqC;QACrC,SAAI,GAAU,EAAE,CAAC;IAIb,CAAC;IAEL,+BAAQ,GAAR;QAAA,iBA4BC;QA3BG,oEAAoE;QACpE,IAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxC,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;QACtC,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC,WAAW,IAAI,GAAG,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;QAEjF,uEAAuE;QACvE,8DAA8D;QAE9D,iEAAiE;QACjE,qDAAqD;QAErD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAA,OAAO;YAC1B,MAAM,CAAA,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;gBACpC,KAAK,MAAM;oBACP,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;oBAC1B,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;oBAC/C,KAAK,CAAC;gBACV,KAAK,UAAU;oBACX,KAAI,CAAC,SAAS,GAAG,aAAa,CAAC;oBAC/B,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;oBAC/C,KAAK,CAAC;gBACV,KAAK,QAAQ;oBACT,KAAI,CAAC,SAAS,GAAG,MAAM,CAAC;oBACxB,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;oBAC/C,KAAK,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAA;IACN,CAAC;IAED;;;;;;;;;;;MAWE;IAEF,kCAAW,GAAX;IAEA,CAAC;IACL,mBAAC;AAAD,CA9DA,AA8DC,IAAA;AA7DY;IAAR,YAAK,EAAE;8BAAO,WAAI;0CAAC;AADX,YAAY;IALxB,gBAAS,CAAC;QACP,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,eAAe;QACzB,WAAW,EAAE,sCAAsC;KACtD,CAAC;qCAcmC,2CAAmB;GAb3C,YAAY,CA8DxB;AA9DY,oCAAY","file":"game-card.view.js","sourcesContent":["import { \r\n    Component,\r\n    OnInit,\r\n    OnDestroy,\r\n    Input\r\n} from '@angular/core';\r\n\r\nimport 'rxjs/Subscription';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { GameDatabaseService } from '../service/game-database.service';\r\n\r\nimport { Game } from '../model/game';\r\nimport { Name } from '../model/name';\r\nimport { GameMetadata } from '../model/game-metadata';\r\nimport { Tag } from '../model/tag';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: '.ng-game-card',\r\n    templateUrl: '../template/view/game-card.view.html'\r\n})\r\nexport class GameCardView implements OnInit, OnDestroy {\r\n    @Input() game: Game;\r\n    playerCount: GameMetadata;\r\n    duration: GameMetadata;\r\n\r\n    iconClass:string = \"rocket\";\r\n    iconDescription: string;\r\n    descriptionText: string;\r\n\r\n    //@Input() showTags: boolean = false;\r\n    tags: Tag[] = [];\r\n\r\n    constructor(\r\n        private gameDatabaseService: GameDatabaseService\r\n    ) { }\r\n\r\n    ngOnInit(): void {\r\n        // this will create a description string without any HTML tags in it\r\n        let div = document.createElement(\"div\");\r\n        div.innerHTML = this.game.description;\r\n        this.descriptionText = div.textContent || div.innerText || this.game.description;\r\n\r\n        // this.gameDatabaseService.getPlayerCountById(this.game.PlayerCountID)\r\n        //     .then((playercount) => this.playerCount = playercount);\r\n\r\n        // this.gameDatabaseService.getDurationById(this.game.DurationID)\r\n        //     .then((duration) => this.duration = duration);\r\n\r\n        this.game.tags.forEach(taggame => {\r\n            switch(taggame.tag.name.toLowerCase()) {\r\n                case 'show':\r\n                    this.iconClass = 'ticket';\r\n                    this.iconDescription = taggame.tag.description;\r\n                    break;\r\n                case 'exercise':\r\n                    this.iconClass = 'lightbulb-o';\r\n                    this.iconDescription = taggame.tag.description;\r\n                    break;\r\n                case 'warmup':\r\n                    this.iconClass = 'fire';\r\n                    this.iconDescription = taggame.tag.description;\r\n                    break;\r\n            }\r\n        })\r\n    }\r\n\r\n    /*\r\n    onToolClicked(tool: Tool): void {\r\n        switch (tool.name) {\r\n            case \"showTags\":\r\n                this.showTags = tool.active;\r\n                if (tool.active && this.tags.length === 0) {\r\n                    this.loadTags();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    */\r\n\r\n    ngOnDestroy(): void {\r\n        \r\n    }\r\n}\r\n"]}